<pre><font color="#007f69">breed</font><font color="#000000"> [balls ball]
</font><font color="#660096">breed</font><font color="#000000"> [centers center]

</font><font color="#007f69">to</font><font color="#000000"> setup
  </font><font color="#0000aa">clear-all</font><font color="#000000">
  </font><font color="#5a5a5a">;; make green balls</font><font color="#000000">
  </font><font color="#0000aa">set-default-shape</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000">
  create-balls number-green
    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">
      </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"> ]
  </font><font color="#5a5a5a">;; make white center of mass</font><font color="#000000">
  </font><font color="#5a5a5a">;; make Blue balls</font><font color="#000000">
  </font><font color="#0000aa">set-default-shape</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000">
  create-balls number-blue
    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">blue</font><font color="#000000">
      </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"> ]
  </font><font color="#5a5a5a">;; make white center of mass</font><font color="#000000">
  create-centers </font><font color="#963700">1</font><font color="#000000">
    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">
      move-center
      </font><font color="#0000aa">pen-down</font><font color="#000000"> ]
      </font><font color="#0000aa">reset-ticks</font><font color="#000000">
  </font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> go
  </font><font color="#0000aa">ask</font><font color="#000000"> balls [ bounce  </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]
  </font><font color="#0000aa">ask</font><font color="#000000"> centers [ move-center ]
  </font><font color="#0000aa">tick</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> move-center  </font><font color="#5a5a5a">;; center procedure</font><font color="#000000">
  </font><font color="#5a5a5a">;; we want a white ball that leaves a red trace, so we need</font><font color="#000000">
  </font><font color="#5a5a5a">;; to temporarily turn the ball red as we move it</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">
  </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> balls
        </font><font color="#660096">mean</font><font color="#000000"> [</font><font color="#660096">ycor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> balls
  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> bounce  </font><font color="#5a5a5a">;; balls procedure</font><font color="#000000">
  </font><font color="#5a5a5a">;; bounce off left and right walls</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">abs</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">max-pxcor</font><font color="#000000">
    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> (</font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000">) ]
  </font><font color="#5a5a5a">;; bounce off top and bottom walls</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">abs</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">max-pycor</font><font color="#000000">
    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> (</font><font color="#963700">180</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000">) ]
</font><font color="#007f69">end</font><font color="#000000">


</font><font color="#5a5a5a">; Copyright 1998 Uri Wilensky.</font><font color="#000000">
</font><font color="#5a5a5a">; See Info tab for full copyright and license.</font>
</pre>
